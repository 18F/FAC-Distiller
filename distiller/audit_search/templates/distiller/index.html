{% extends 'base.html' %}
{% load widget_tweaks %}

{% block content %}
  <div class="usa-section grid-row">
    <div class="grid-col-1"></div>
    <div class="grid-col-4">
      <h1>Select your agency:</h1>
    </div>
    <div class="grid-col-6">
      <form method="post" class="usa-form">
        {% csrf_token %}
        {{ form.agency|add_label_class:"usa-label" }}
        {% render_field form.agency class+="usa-select" %}
        {{ form.sub_agency|add_label_class:"usa-label" }}
        {% render_field form.sub_agency class+="usa-select" %}
        <input type="submit" value="Submit" class="usa-button">
      </form>
    </div>
    <div class="grid-col-1"></div>
  </div>

  {% block error_message %}{% endblock %}

  <script>
    document.querySelector("select[name=agency]").addEventListener('change', function () {
      window.location = (window.pathname || '') + '?agency=' + this.value;
    }, false);;
  </script>

{% endblock %}
